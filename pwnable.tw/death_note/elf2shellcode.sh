#!/bin/sh
gcc -m32 -nostdlib $1
echo "----------------------------------------------------------------------------"
echo "objdump -M intel -d a.out"
echo "----------------------------------------------------------------------------"
objdump -M intel -d a.out
echo "----------------------------------------------------------------------------"
echo "shellcode"
echo "----------------------------------------------------------------------------"
objdump -M intel -d a.out | grep '^ ' | cut -f2 | perl -pe 's/(\w{2})\s+/\\x\1/g'
echo "\n"
echo "----------------------------------------------------------------------------"
